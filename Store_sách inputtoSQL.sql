CREATE DATABASE STORE_BOOK
USE STORE_BOOK
--STAFF_ID 	STAFF_NAME 	TIME 	OFFICE 
CREATE TABLE STAFF
(
STAFF_ID INT NOT NULL PRIMARY KEY, 
STAFF_NAME  NVARCHAR(200),
OFFICE NVARCHAR(200),
)
--========================================================
--ORDER_ID 	TOTAL_AMOUNT	TOTAL_COST	BOOKING_DAY 	STAFF_ID 
CREATE TABLE [ORDER]
(
ORDER_ID INT NOT NULL PRIMARY KEY ,
TOTAL_AMOUNT INT ,
TOTAL_COST DECIMAL(18,0) ,
BOOKING_DAY DATE ,
STAFF_ID INT,
CONSTRAINT PRK_STAFF_ID FOREIGN KEY(STAFF_ID) REFERENCES STAFF(STAFF_ID),
) 
--====================================================
--FEEDBACK_ID 	GRATE	COMMENT
CREATE TABLE FEEDBACK
(
FEEDBACK_ID INT NOT NULL PRIMARY KEY,
GRATE NVARCHAR(200),
)
--=========================================================
CREATE TABLE CUSTOMER
(
CUSTOMER_ID INT NOT NULL PRIMARY KEY ,
CUSTOMER_NAME NVARCHAR(200),
[ADDRESS] NVARCHAR(200),
GMAIL NVARCHAR(200),
PHONE INT ,
ORDER_ID INT ,
FEEDBACK_ID INT ,
CONSTRAINT PRK_ORDER_ID FOREIGN KEY(ORDER_ID) REFERENCES [ORDER](ORDER_ID),
CONSTRAINT PRK_FEEDBACK_ID FOREIGN KEY(FEEDBACK_ID) REFERENCES FEEDBACK(FEEDBACK_ID)
)
--======================================================
--BOOK_ID	TYPE	BOOK_NAME 	 PUBLISHER 	AUTHOR 	COST 	STATUS 
CREATE TABLE  BOOK
(
BOOK_ID INT not null PRIMARY KEY, 
[TYPE] NVARCHAR(200),
BOOK_NAME NVARCHAR(200),
PUBLISHER NVARCHAR(200),
AUTHOR NVARCHAR(200),
COST DECIMAL(18,0),
[STATUS] BIT,
)
--==========================================================
--INSERT_ID	BOOK_ID 	ORDER_ID 	AMOUNT 	TOTAL_COST
CREATE TABLE [INSERT] 
(
BOOK_ID  INT NOT NULL ,
ORDER_ID INT NOT NULL ,
TOTAL_AMOUNT INT ,
TOTAL_COST DECIMAL(18,0) ,
CONSTRAINT PK_BOOK_ID_ORDER_ID  PRIMARY KEY(BOOK_ID,ORDER_ID),
CONSTRAINT PRK_ORDER_ID1 FOREIGN KEY(ORDER_ID) REFERENCES [ORDER](ORDER_ID),
CONSTRAINT PRK_BOOK_ID  FOREIGN KEY(BOOK_ID ) REFERENCES BOOK(BOOK_ID ),
)
---======================================================
--STAFF_ID	FEEDBACK_ID 
CREATE TABLE  FEEDBACK_FOR 
(
FEEDBACK_ID INT NOT NULL , 
STAFF_ID INT NOT NULL, 
CONSTRAINT PK_FEEDBACK_ID_STAFF_ID  PRIMARY KEY(FEEDBACK_ID,STAFF_ID),
CONSTRAINT PRK_FEEDBACK_ID1 FOREIGN KEY(FEEDBACK_ID) REFERENCES FEEDBACK(FEEDBACK_ID),
CONSTRAINT PRK_STAFF_ID1 FOREIGN KEY(STAFF_ID) REFERENCES [STAFF](STAFF_ID)
)

ALTER TABLE CUSTOMER NOCHECK CONSTRAINT PRK_ORDER_ID
ALTER TABLE CUSTOMER NOCHECK CONSTRAINT PRK_FEEDBACK_ID
ALTER TABLE [INSERT]  NOCHECK CONSTRAINT PRK_ORDER_ID1
ALTER TABLE [ORDER]  NOCHECK CONSTRAINT PRK_STAFF_ID
ALTER TABLE FEEDBACK_FOR  NOCHECK CONSTRAINT PRK_FEEDBACK_ID1
ALTER TABLE FEEDBACK_FOR  NOCHECK CONSTRAINT PRK_STAFF_ID1


---===CHÈN DATA===---

-----BOOK-----
INSERT INTO BOOK VALUES (1001,N'Thiếu nhi',N'Doraemon tập 1',N'Kim Đồng',N'Fujiko Fujio',17000,0);
INSERT INTO BOOK VALUES (1002,N'Thiếu nhi',N'Doraemon tập 2',N'Kim Đồng',N'Fujiko Fujio',17000,1);
INSERT INTO BOOK VALUES (1003,N'Thiếu nhi',N'Doraemon tập 3',N'Kim Đồng',N'Fujiko Fujio',17000,1);
INSERT INTO BOOK VALUES (1004,N'Thiếu nhi',N'Doraemon tập 4',N'Kim Đồng',N'Fujiko Fujio',17000,1);
INSERT INTO BOOK VALUES (1005,N'Thiếu nhi',N'Doraemon tập 5',N'Kim Đồng',N'Fujiko Fujio',17000,0);
INSERT INTO BOOK VALUES (1006,N'Văn học',N'Mắt biếc',N'NXB Trẻ',N'Nguyễn Nhật Ánh',78000,0);   
INSERT INTO BOOK VALUES (1007,N'Văn học',N'Tôi Thấy Hoa Vàng Trên Cỏ Xanh',N'NXB Trẻ',N'Nguyễn Nhật Ánh',78000,1);
INSERT INTO BOOK VALUES (1008,N'Văn học',N'Cho Tôi Xin Một Vé Đi Tuổi Thơ',N'NXB Trẻ',N'Nguyễn Nhật Ánh',78000,0);
INSERT INTO BOOK VALUES (1009,N'Văn học',N'Ngồi Khóc Trên Cây',N'NXB Trẻ',N'Nguyễn Nhật Ánh',78000,1);
INSERT INTO BOOK VALUES (1010,N'tiểu thuyết',N'Nhà giả kim',N'Nhã Nam',N'Pauho Coelho',56000,0);
INSERT INTO BOOK VALUES (1011,N'Tài chính',N'Dạy Con Làm Giàu 1',N'NXB Trẻ',N'Robert T. Kiyosaki',70000,1);
INSERT INTO BOOK VALUES (1012,N'Tài chính',N'Dạy Con Làm Giàu 2',N'NXB Trẻ',N'Robert T. Kiyosaki',70000,0);
INSERT INTO BOOK VALUES (1013,N'Tài chính',N'Dạy Con Làm Giàu 3',N'NXB Trẻ',N'Robert T. Kiyosaki',70000,0);
INSERT INTO BOOK VALUES (1014,N'Tài chính',N'Dạy Con Làm Giàu 4',N'NXB Trẻ',N'Robert T. Kiyosaki',70000,1);
INSERT INTO BOOK VALUES (1015,N'Tài chính',N'Dạy Con Làm Giàu 5',N'NXB Trẻ',N'Robert T. Kiyosaki',70000,1);
INSERT INTO BOOK VALUES (1016,N'Tài chính',N'Dạy Con Làm Giàu 6',N'NXB Trẻ',N'Robert T. Kiyosaki',70000,0);
INSERT INTO BOOK VALUES (1017,N'Tài chính',N'Dạy Con Làm Giàu 7',N'NXB Trẻ',N'Robert T. Kiyosaki',70000,0);
INSERT INTO BOOK VALUES (1018,N'Tài chính',N'Nghĩ Giàu Và Làm Giàu',N'First News - Trí Việt',N'Napoleon',71000,0);
INSERT INTO BOOK VALUES (1019,N'hư cấu',N'Chuyện Con Mèo Dạy Hải Âu Bay',N'Nhã Nam',N'Luis Sepulveda',34000,1);
INSERT INTO BOOK VALUES (1020,N'Văn học',N'Chí Phèo',N'Huy Hoàng Bookstore',N'Nam Cao',34000,1);
INSERT INTO BOOK VALUES (1021,N'văn học',N'Moi Moi',N'Wabooks',N'Hiraki',34000,0);
INSERT INTO BOOK VALUES (1022,N'Light novel',N'Đứa Con Của Thời Tiết',N'NXB Hà Nội',N'Shinkai Makoto',68000,1);
INSERT INTO BOOK VALUES (1023,N'Light novel',N'Khóa Chặt Cửa Nào Suzume',N'Hồng Đức',N'Shinkai Makoto',115000,1);
INSERT INTO BOOK VALUES (1024,N'Light novel',N'Spy X Family tập 1',N'NXB Kim Đồng',N'Tatsuya Endo',23000,1);
INSERT INTO BOOK VALUES (1025,N'Light novel',N'Spy X Family tập 2',N'NXB Kim Đồng',N'Tatsuya Endo',23000,1);

-----CUSTOMER-----

INSERT INTO CUSTOMER VALUES (301,N'Trịnh Ớt Cay',N'HCM',N'trinh.otcay@gmail.com',912345678,401,1);
INSERT INTO CUSTOMER VALUES (302,N'Hồ Ngọc Trai',N'Bình Dương',N'ho.ngoctrai@gmail.com',987654321,402,2);
INSERT INTO CUSTOMER VALUES (303,N'Nguyễn Văn Lá',N'Đồng Nai',N'nguyen.vanla@gmail.com',901122334,403,3);
INSERT INTO CUSTOMER VALUES (304,N'Lê Minh Mẫn',N'HCM',N'le.minhman@gmail.com',978012345,404,4);
INSERT INTO CUSTOMER VALUES (305,N'Nguyễn Minh Nguyệt',N'Long An',N'nguyen.minhnguyet@gmail.com',845678901,405,5);
INSERT INTO CUSTOMER VALUES (306,N'Nguyễn Quốc Táo',N'Bình Dương',N'nguyen.quoctao@gmail.com',888123456,406,1);
INSERT INTO CUSTOMER VALUES (307,N'Trần Quốc Cơ',N'Long An',N'tran.quocco@gmail.com',965432109,407,2);
INSERT INTO CUSTOMER VALUES (308,N'Lê Thị Mai',N'Bình Định',N'le.thimai@gmail.com',890765432,408,3);
INSERT INTO CUSTOMER VALUES (309,N'Phan Thị Na',N'Đà Nẵng',N'phan.thina@gmail.com',956789012,409,4);
INSERT INTO CUSTOMER VALUES (310,N'Phạm Thị Thu Cúc',N'HCM',N'pham.thithucuc@gmail.com',876543210,410,5);
INSERT INTO CUSTOMER VALUES (311,N'Nguyễn Thị Mai Anh',N'HCM',N'nguyen.thimaianh@gmail.com',943210987,411,5);
INSERT INTO CUSTOMER VALUES (312,N'Trần Văn Tuấn',N'HCM',N'tran.vantuan@gmail.com',832109876,412,3);
INSERT INTO CUSTOMER VALUES (313,N'Phạm Hùng Cường',N'An Giang',N'pham.hungcuong@gmail.com',921098765,413,4);
INSERT INTO CUSTOMER VALUES (314,N'Vũ Hoàng Long',N'Biên Hòa',N'vu.hoanglong@gmail.com',865432101,414,2);
INSERT INTO CUSTOMER VALUES (315,N'Hồ Thị Thu Hiền',N'Hội An',N'ho.thithuhien@gmail.com',932101234,415,5);
INSERT INTO CUSTOMER VALUES (316,N'Đặng Minh Hùng',N'Huế',N'dang.minhhung@gmail.com',808080808,416,3);
INSERT INTO CUSTOMER VALUES (317,N'Dương Thị Linh Thảo',N'Đà Nẵng',N'duong.thilinhthao@gmail.com',888888888,417,2);
INSERT INTO CUSTOMER VALUES (318,N'Hoàng Thị Ngọc Lan',N'Đà Nẵng',N'hoang.thingoclan@gmail.com',812345678,418,1);
INSERT INTO CUSTOMER VALUES (319,N'Nguyễn Quang Minh',N'Bình Dương',N'nguyen.quangminh@gmail.com',878787878,419,1);
INSERT INTO CUSTOMER VALUES (320,N'Trần Thị Phương Anh',N'Bình Dương',N'tran.thiphuonganh@gmail.com',890123456,420,5);

-----INSERT-----

INSERT INTO [INSERT] VALUES (1010,401,1,56000);
INSERT INTO [INSERT] VALUES (1002,401,1,17000);
INSERT INTO [INSERT] VALUES (1004,401,1,17000);
INSERT INTO [INSERT] VALUES (1004,402,1,17000);
INSERT INTO [INSERT] VALUES (1024,402,1,23000);
INSERT INTO [INSERT] VALUES (1002,402,1,17000);
INSERT INTO [INSERT] VALUES (1024,403,1,23000);
INSERT INTO [INSERT] VALUES (1004,403,1,17000);
INSERT INTO [INSERT] VALUES (1021,404,1,34000);
INSERT INTO [INSERT] VALUES (1025,405,1,23000);
INSERT INTO [INSERT] VALUES (1015,405,1,70000);
INSERT INTO [INSERT] VALUES (1002,406,1,17000);
INSERT INTO [INSERT] VALUES (1010,406,1,56000);
INSERT INTO [INSERT] VALUES (1025,406,1,23000);
INSERT INTO [INSERT] VALUES (1021,406,1,34000);
INSERT INTO [INSERT] VALUES (1021,407,1,34000);
INSERT INTO [INSERT] VALUES (1025,407,1,23000);
INSERT INTO [INSERT] VALUES (1019,407,1,34000);
INSERT INTO [INSERT] VALUES (1015,408,1,70000);
INSERT INTO [INSERT] VALUES (1015,409,1,70000);
INSERT INTO [INSERT] VALUES (1007,410,1,78000);
INSERT INTO [INSERT] VALUES (1021,410,1,34000);
INSERT INTO [INSERT] VALUES (1010,411,1,56000);
INSERT INTO [INSERT] VALUES (1017,412,1,70000);
INSERT INTO [INSERT] VALUES (1017,413,1,70000);
INSERT INTO [INSERT] VALUES (1025,414,1,23000);
INSERT INTO [INSERT] VALUES (1015,414,1,70000);
INSERT INTO [INSERT] VALUES (1019,415,1,34000);
INSERT INTO [INSERT] VALUES (1015,416,1,70000);
INSERT INTO [INSERT] VALUES (1010,416,1,56000);
INSERT INTO [INSERT] VALUES (1025,417,1,23000);
INSERT INTO [INSERT] VALUES (1024,418,1,23000);
INSERT INTO [INSERT] VALUES (1019,419,1,34000);
INSERT INTO [INSERT] VALUES (1024,420,1,23000);

-----FEEDBACK-----

INSERT INTO FEEDBACK VALUES (1,N'Rất tốt');
INSERT INTO FEEDBACK VALUES (2,N'Tốt');
INSERT INTO FEEDBACK VALUES (3,N'Bình thường');
INSERT INTO FEEDBACK VALUES (4,N'Cần cải thiện');
INSERT INTO FEEDBACK VALUES (5,N'Rất tệ');

-----ORDER-----

INSERT INTO [ORDER] VALUES (401,3,'57000','20230502',102);
INSERT INTO [ORDER] VALUES (402,2,40000,'20230618',103);
INSERT INTO [ORDER] VALUES (403,3,90000,'20230729',101);
INSERT INTO [ORDER] VALUES (404,1,34000,'20230929',104);
INSERT INTO [ORDER] VALUES (405,2,93000,'20230114',105);
INSERT INTO [ORDER] VALUES (406,4,130000,'20230308',105);
INSERT INTO [ORDER] VALUES (407,3,91000,'20231122',105);
INSERT INTO [ORDER] VALUES (408,1,70000,'20230409',101);
INSERT INTO [ORDER] VALUES (409,1,70000,'20230727',104);
INSERT INTO [ORDER] VALUES (410,2,112000,'20231210',103);
INSERT INTO [ORDER] VALUES (411,1,56000,'20230331 ',101);
INSERT INTO [ORDER] VALUES (412,1,70000,'20230916',103);
INSERT INTO [ORDER] VALUES (413,1,70000,'20230801',104);
INSERT INTO [ORDER] VALUES (414,2,93000,'20230519',104);
INSERT INTO [ORDER] VALUES (415,1,34000,'20230711',101);
INSERT INTO [ORDER] VALUES (416,2,126000,'20230226',104);
INSERT INTO [ORDER] VALUES (417,1,23000,'20230712',103);
INSERT INTO [ORDER] VALUES (418,1,23000,'20231023',101);
INSERT INTO [ORDER] VALUES (419,1,34000,'20230404',104);
INSERT INTO [ORDER] VALUES (420,1,23000,'20230815',104);

-----STAFF-----

INSERT INTO STAFF VALUES (101,N'Nguyễn Văn A',N'Quản lý');
INSERT INTO STAFF VALUES (102,N'Nguyễn Thị Bơ',N'Thu ngân');
INSERT INTO STAFF VALUES (103,N'Trần Chuối Xanh',N'Thu ngân');
INSERT INTO STAFF VALUES (104,N'Hồ Thị Nho',N'Thu ngân');
INSERT INTO STAFF VALUES (105,N'Lê Văn Lê',N'Thu ngân');
INSERT INTO STAFF VALUES (106,N'Nguyễn Chạy Trốn',N'Dọn dẹp');
INSERT INTO STAFF VALUES (107,N'Trịnh Công Việc',N'Nhập liệu');

-----FEEDBACK_FOR-----

INSERT INTO FEEDBACK_FOR VALUES (1,101)
INSERT INTO FEEDBACK_FOR VALUES (2,102)
INSERT INTO FEEDBACK_FOR VALUES (3,101)
INSERT INTO FEEDBACK_FOR VALUES (4,104)
INSERT INTO FEEDBACK_FOR VALUES (5,101)